function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{QbuQ:function(e,t,n){"use strict";n.r(t),n.d(t,"UsersModule",(function(){return ce}));var o,a,r=n("tyNb"),i=n("PCNd"),c=n("3Pt+"),s=n("EVdn"),l=(n("SYky"),n("fXoL")),u=n("6Qg2"),b=n("lGQG"),d=n("SX5t"),g=n("ofXK"),f=n("1kSV"),p=((a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return null===e?"No Data":e}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275pipe=l.Lb({name:"convertToNoData",type:a,pure:!0}),a),m=((o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return null===e?"Pending":e}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275pipe=l.Lb({name:"convertToPending",type:o,pure:!0}),o);function h(e,t){if(1&e){var n=l.Tb();l.Sb(0,"ngb-alert",106),l.ec("close",(function(){return l.xc(n),l.gc().studentAlert=!1})),l.Fc(1),l.Rb()}if(2&e){var o=l.gc();l.nc("type",o.alertType),l.zb(1),l.Gc(o.studentMessage)}}function y(e,t){1&e&&(l.Sb(0,"button",107),l.Nb(1,"i",108),l.Fc(2," New User"),l.Rb())}function S(e,t){if(1&e){var n=l.Tb();l.Sb(0,"button",109),l.ec("click",(function(){return l.xc(n),l.gc().enableEdit()})),l.Nb(1,"i",110),l.Fc(2),l.Rb()}if(2&e){var o=l.gc();l.zb(2),l.Hc(" ",o.enableMessage,"")}}function _(e,t){if(1&e&&(l.Qb(0),l.Sb(1,"th",111),l.Fc(2),l.Rb(),l.Pb()),2&e){var n=t.$implicit;l.zb(2),l.Hc(" ",n," ")}}function v(e,t){1&e&&(l.Qb(0),l.Sb(1,"th",111),l.Fc(2," Check Fee "),l.Rb(),l.Pb())}function C(e,t){1&e&&(l.Qb(0),l.Sb(1,"th",111),l.Fc(2," Edit "),l.Rb(),l.Sb(3,"th",111),l.Fc(4," Delete "),l.Rb(),l.Pb())}function O(e,t){if(1&e&&(l.Qb(0),l.Dc(1,C,5,0,"ng-container",22),l.Pb()),2&e){var n=l.gc();l.zb(1),l.nc("ngIf",n.edit)}}function M(e,t){if(1&e&&(l.Sb(0,"td"),l.Fc(1),l.Rb()),2&e){var n=l.gc().$implicit;l.zb(1),l.Gc(n.password)}}function P(e,t){if(1&e&&(l.Sb(0,"td"),l.Fc(1),l.Rb()),2&e){var n=l.gc().$implicit;l.zb(1),l.Gc(n.email)}}function R(e,t){if(1&e){var n=l.Tb();l.Qb(0),l.Sb(1,"td"),l.Sb(2,"button",112),l.ec("click",(function(){l.xc(n);var e=l.gc().$implicit;return l.gc().selectedStudent(e)})),l.Nb(3,"i",113),l.Rb(),l.Rb(),l.Pb()}}function x(e,t){if(1&e){var n=l.Tb();l.Qb(0),l.Sb(1,"td"),l.Sb(2,"button",114),l.ec("click",(function(){l.xc(n);var e=l.gc(2).$implicit;return l.gc().selectedStudent(e)})),l.Nb(3,"i",115),l.Rb(),l.Rb(),l.Sb(4,"td"),l.Sb(5,"button",116),l.ec("click",(function(){l.xc(n);var e=l.gc(2).$implicit;return l.gc().selectedStudent(e)})),l.Nb(6,"i",117),l.Rb(),l.Rb(),l.Pb()}}function w(e,t){if(1&e&&(l.Qb(0),l.Dc(1,x,7,0,"ng-container",22),l.Pb()),2&e){var n=l.gc(2);l.zb(1),l.nc("ngIf",n.edit)}}function F(e,t){if(1&e&&(l.Sb(0,"tr"),l.Qb(1),l.Sb(2,"td"),l.Fc(3),l.Rb(),l.Dc(4,M,2,1,"td",22),l.Sb(5,"td"),l.Fc(6),l.Rb(),l.Sb(7,"td"),l.Fc(8),l.Rb(),l.Sb(9,"td"),l.Fc(10),l.hc(11,"convertToNoData"),l.Rb(),l.Dc(12,P,2,1,"td",22),l.Dc(13,R,4,0,"ng-container",22),l.Dc(14,w,2,1,"ng-container",22),l.Pb(),l.Rb()),2&e){var n=t.$implicit,o=l.gc();l.zb(3),l.Gc(n.id_students),l.zb(1),l.nc("ngIf",o.userAdmin),l.zb(2),l.Ic("",n.first_name," ",n.last_name,""),l.zb(2),l.Gc("true"===n.status?"Active":"Not Active"),l.zb(2),l.Gc(l.ic(11,9,n.phone_number)),l.zb(2),l.nc("ngIf",o.userAdmin),l.zb(1),l.nc("ngIf",o.userAdmin),l.zb(1),l.nc("ngIf",o.userAdmin)}}function z(e,t){if(1&e){var n=l.Tb();l.Sb(0,"ngb-alert",118),l.ec("close",(function(){return l.xc(n),l.gc().feeStatus=!1})),l.Fc(1),l.Rb()}if(2&e){var o=l.gc();l.nc("dismissible",!1)("type",o.alertType),l.zb(1),l.Hc("",o.feeMessage,".")}}function I(e,t){if(1&e){var n=l.Tb();l.Sb(0,"ngb-alert",106),l.ec("close",(function(){return l.xc(n),l.gc().paymentAlert=!1})),l.Fc(1),l.Rb()}if(2&e){var o=l.gc();l.nc("type",o.alertType),l.zb(1),l.Gc(o.paymentMessage)}}function A(e,t){if(1&e){var n=l.Tb();l.Sb(0,"button",123),l.ec("click",(function(){l.xc(n);var e=l.gc(2).$implicit;return l.gc().payNow(e)})),l.Fc(1," Pay Now "),l.Rb()}}function k(e,t){if(1&e){var n=l.Tb();l.Sb(0,"ngb-alert",120),l.ec("close",(function(){return l.xc(n),l.gc(2).fee=!1})),l.Sb(1,"span",121),l.Fc(2),l.hc(3,"convertToPending"),l.Rb(),l.Sb(4,"span",121),l.Fc(5),l.hc(6,"currency"),l.Rb(),l.Dc(7,A,2,0,"button",122),l.Rb()}if(2&e){var o=l.gc().$implicit;l.nc("dismissible",!1),l.zb(2),l.Hc("Payed date: ",l.ic(3,4,o.payed_day),"."),l.zb(3),l.Hc("Fee: ",l.kc(6,6,o.fee_amount,"USD","symbol","1.0-0"),"."),l.zb(2),l.nc("ngIf",!o.payed_day)}}function N(e,t){if(1&e&&(l.Qb(0),l.Dc(1,k,8,11,"ngb-alert",119),l.Pb()),2&e){var n=l.gc();l.zb(1),l.nc("ngIf",n.fee)}}function D(e,t){if(1&e&&(l.Sb(0,"button",124),l.Fc(1),l.hc(2,"currency"),l.Rb()),2&e){var n=l.gc();l.zb(1),l.Hc(" Pay All ",l.kc(2,1,n.dueAmount,"USD","symbol","1.0-0")," ")}}var T,L=function(e){return{"field-error":e}},E=function(e,t){return{"btn-enable":e,"btn-second":t}},G=function(e){return{"special-footer":e}},j=((T=function(){function e(t,n,o,a,r){_classCallCheck(this,e),this.usersService=t,this.detectorService=n,this.authService=o,this.feeService=a,this.fb=r,this.page=1,this.pageSize=4,this.requestResult=[],this.students=[],this.edit=!1,this.enableMessage="Enable Edit",this.fee=!1,this.feeArray=[],this.payOb={id_students:null,id_loan:null,returned_date:null},this.payObAll={id_students:null,today:null},this.searchOptionCategory="name",this.feeStatus=!1,this.selectedStudentInfo={id_students:null,password:null,first_name:null,last_name:null,status:null,phone_number:null,email:null,type:null,requested_books:null},this.studentAlert=!1,this.pendingFeeArray=[],this.dueAmount=0,this.pendingFee=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.userForm=this.fb.group({id_students:null,password:[null,[c.s.required]],first_name:[null,[c.s.required]],last_name:[null,[c.s.required]],status:null,phone_number:[null,[c.s.required]],email:[null,[c.s.required]],requested_books:null,type:["true",[c.s.required]]}),this.userAdmin=this.authService.retrieveUserType(),this.tableTitles=this.userAdmin?["ID","Password","Full Name","Status","Phone Number","Email"]:["ID","Full Name","Status","Phone Number"],this.getStudents()}},{key:"ngAfterViewInit",value:function(){var e=this;s(document).ready((function(){s("#newEntry").on("hide.bs.modal",(function(){document.querySelector('form[name="newEntry"]').reset(),e.userForm.patchValue({type:"true"}),e.detectorService.detectChanges()}))}))}},{key:"performFilter",value:function(e,t){return e="name"===t||"email"===t?e.toLowerCase():e,"name"===t?this.students.filter((function(t){return-1!==(t.first_name+t.last_name).toLowerCase().indexOf(e)})):"phoneNumber"===t?this.students.filter((function(t){return-1!==t.phone_number.toString().indexOf(e)})):"email"===t?this.students.filter((function(t){return-1!==t.email.toLowerCase().indexOf(e)})):void 0}},{key:"selectedStudent",value:function(e){this.fee=!1,this.feeStatus=!1,this.pendingFee=!1,this.selectedStudentInfo=Object.assign({},e),this.retrieveFees(this.selectedStudentInfo.id_students)}},{key:"getStudents",value:function(){var e=this;return new Promise((function(t,n){e.usersService.getInfo().subscribe({next:function(n){e.requestResult=n,e.students=n,t(!0)},error:function(e){console.log(e),t(!1)}})})).then((function(){return e.collectionSize=e.requestResult.length}))}},{key:"postStudent",value:function(e){var t=this;if(e.valid)return new Promise((function(e,n){t.usersService.postInfo(t.userForm.value).subscribe({next:function(n){"200"===n.result?(t.studentAlert=!0,t.alertType="success",t.studentMessage=n.message,setTimeout((function(){return t.studentAlert=!1}),3e3)):"404"===n.result&&(t.studentAlert=!0,t.alertType="danger",t.studentMessage=n.message,setTimeout((function(){return t.studentAlert=!1}),3e3)),e(!0)},error:function(t){console.log(t),e(!1)}})})).then((function(){return t.getStudents()}))}},{key:"updateStudent",value:function(e){var t=this;return new Promise((function(n,o){t.usersService.updateInfo(e).subscribe({next:function(e){"OK"===e.resultado&&(t.studentAlert=!0,t.alertType="success",t.studentMessage="User information successfully modified.",setTimeout((function(){return t.studentAlert=!1}),3e3)),n(!0)},error:function(e){console.log(e),n(!1)}})})).then((function(){return t.getStudents()}))}},{key:"deleteStudent",value:function(e){var t=this;return new Promise((function(n,o){t.usersService.deleteInfo(e).subscribe({next:function(e){"OK"===e.resultado&&(t.studentAlert=!0,t.alertType="success",t.studentMessage="User information successfully deleted.",setTimeout((function(){return t.studentAlert=!1}),3e3)),n(!0)},error:function(e){console.log(e),n(!1)}})})).then((function(){return t.getStudents()}))}},{key:"clearSearch",value:function(){this.searchOptionInfo=null}},{key:"enableEdit",value:function(){this.edit=!this.edit,this.enableMessage=this.edit?"Disable Edit":"Enable Edit"}},{key:"retrieveFees",value:function(e){var t=this;this.feeService.retrieveFees(e).subscribe({next:function(e){if(0===e.length)t.feeStatus=!0,t.alertType="success",t.feeMessage="You do not have any fee information";else if(e.length>0){var n,o=!1,a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;)+n.value.fee_amount>0&&(o=!0)}catch(b){a.e(b)}finally{a.f()}if(o){t.fee=!0,t.feeArray=[],t.pendingFeeArray=[],t.dueAmount=0;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var c=r.value;+c.fee_amount>0&&null!==c.payed_day&&t.feeArray.push(c),null===c.payed_day&&(t.pendingFeeArray.push(c),t.dueAmount+=+c.fee_amount,t.pendingFee=!0)}}catch(b){i.e(b)}finally{i.f()}t.feeArray=t.feeArray.sort((function(e,t){return e.payed_day>t.payed_day?-1:t.payed_day>e.payed_day?1:0}));var s,l=_createForOfIteratorHelper(t.pendingFeeArray);try{for(l.s();!(s=l.n()).done;){var u=s.value;t.feeArray.unshift(u)}}catch(b){l.e(b)}finally{l.f()}}else t.feeStatus=!0,t.alertType="success",t.feeMessage="You do not have any fee information"}},error:function(e){return console.log(e)}})}},{key:"payNow",value:function(e){var t=this;this.payOb.id_loan=+e.id_loans,this.payOb.id_students=+e.id_students;var n=new Date;return this.payOb.returned_date="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),new Promise((function(e,n){t.feeService.payNow(t.payOb).subscribe({next:function(n){"404"===n.result?(t.paymentAlert=!0,setTimeout((function(){return t.paymentAlert=!1}),6e3),t.paymentMessage=n.message,t.alertType="danger"):"200"===n.result&&(t.paymentAlert=!0,setTimeout((function(){return t.paymentAlert=!1}),3e3),t.paymentMessage=n.message,t.alertType="success"),e(!0)},error:function(t){console.log(t),e(!1)}})})).then((function(){return t.retrieveFees(t.payOb.id_students)}))}},{key:"payAll",value:function(e){var t=this;this.payObAll.id_students=+e.id_students;var n=new Date;return this.payObAll.today="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),new Promise((function(e,n){t.feeService.payAll(t.payObAll).subscribe({next:function(n){"404"===n.result?(t.paymentAlert=!0,setTimeout((function(){return t.paymentAlert=!1}),6e3),t.paymentMessage=n.message,t.alertType="danger"):"200"===n.result&&(t.paymentAlert=!0,setTimeout((function(){return t.paymentAlert=!1}),3e3),t.paymentMessage=n.message,t.alertType="success"),e(!0)},error:function(t){console.log(t),e(!1)}})})).then((function(){return t.retrieveFees(t.payObAll.id_students)}))}},{key:"studentArray",get:function(){return this.requestResult.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}},{key:"searchOptionInfo",get:function(){return this._searchOptionInfo},set:function(e){this._searchOptionInfo=e,this.requestResult=this._searchOptionInfo&&this.searchOptionCategory?this.performFilter(e,this.searchOptionCategory):this.students,this.collectionSize=this.requestResult.length}}]),e}()).\u0275fac=function(e){return new(e||T)(l.Mb(u.a),l.Mb(l.h),l.Mb(b.a),l.Mb(d.a),l.Mb(c.b))},T.\u0275cmp=l.Gb({type:T,selectors:[["app-students"]],decls:226,vars:80,consts:[[1,"main-container","shadow","rounded"],[1,"mt-4"],["id","alerts"],["class","feeAlert",3,"type","close",4,"ngIf"],[1,"user-options"],["id","search"],[1,"options"],[1,"custom-options"],["id","search-select","name","search",1,"custom-select","my-1","mr-sm-2","select-search",2,"box-shadow","none",3,"ngModel","ngModelChange"],["value","name"],["value","phoneNumber"],["value","email"],["type","text",1,"form-control","mb-2","mr-sm-2","form-control-sm","input-search",2,"box-shadow","none",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-raised","btn-search",2,"box-shadow","none",3,"click"],[1,"fas","fa-backspace"],[1,"buttons-search-student"],["type","button","class","btn btn-raised btn-main btn-x","data-toggle","modal","data-target","#newEntry",4,"ngIf"],["type","button","class","btn btn-raised btn-edit btn-enable",3,"click",4,"ngIf"],["id","user-table-group"],[1,"user-table"],["id","dtBasicExample","width","100%",1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","user-info"],[1,"d-flex","justify-content-between","user-pagination","mt-4"],[3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["id","newEntry",1,"modal","custom-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","custom-modal-size"],[1,"custom-modal-head"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],["name","newEntry",3,"formGroup","ngSubmit"],["newUserForm","ngForm"],[1,"custom-modal-body"],[2,"margin","5px 0","font-size","13px"],[1,"form-group","mb-4"],[1,"issues","alter","alert-danger","mt-3",3,"hidden"],[1,"fas","fa-exclamation-circle"],["for","pass",1,"mb-1","mr-2"],[1,"required-asterisk"],["formControlName","password","type","password","id","pass","autocomplete","current-password",1,"form-control",3,"ngClass"],[1,"name-group"],["for","firstName",1,"mb-1","mr-2"],["formControlName","first_name","type","text","id","firstName",1,"form-control",3,"ngClass"],[1,"ml-3"],["for","lastName",1,"mb-1","mr-2"],["formControlName","last_name","type","text","id","lastName",1,"form-control",3,"ngClass"],[1,"my-1","mr-2"],[1,"available-student"],["formControlName","type","id","user-type","ngbRadioGroup","","name","radioBasic",1,"btn-group","btn-group-toggle","available-options"],["for","typeTrueNew","ngbButtonLabel","",1,"custom-radio",2,"box-shadow","none",3,"ngClass"],["name","type","ngbButton","","type","radio","value","true","id","typeTrueNew"],["for","typeFalseNew","ngbButtonLabel","",1,"custom-radio",2,"box-shadow","none",3,"ngClass"],["name","type","ngbButton","","type","radio","value","false","id","typeFalseNew"],["for","phoneNumber",1,"mb-1","mr-2"],["formControlName","phone_number","id","phoneNumber","type","tel",1,"form-control",3,"ngClass"],["for","email",1,"mb-1","mr-2"],["formControlName","email","id","email","type","email",1,"form-control",3,"ngClass"],[1,"custom-modal-footer"],["type","submit",1,"btn","btn-main",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-cancel","ml-3"],["id","fee",1,"modal","custom-modal"],[1,"fee-body"],["class","feeAlert",3,"dismissible","type","close",4,"ngIf"],[1,"custom-modal-footer-nb",3,"ngClass"],["class","btn btn-enable","data-toggle","modal","data-target","#pay",4,"ngIf"],["type","button","data-dismiss","modal",1,"btn","btn-cancel"],["id","pay",1,"modal","custom-modal"],[1,"modal-body","modal-body-custom"],["id","payment-methods"],[1,"fab","fa-cc-visa"],[1,"fab","fa-cc-mastercard"],[1,"fab","fa-cc-paypal"],["type","button","data-dismiss","modal",1,"btn","btn-main",3,"click"],["id","delete",1,"modal","custom-modal"],[1,"custom-modal-body-delete"],[2,"margin","5px 0 10px","font-size","13px"],[1,"custom-modal-footer-nb"],["type","button","data-dismiss","modal",1,"btn","btn-cancel",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-second","ml-3"],["id","edit",1,"modal","custom-modal"],["for","Epass",1,"mb-1","mr-2"],["type","password","autocomplete","current-password","name","password","id","Epass",1,"form-control",3,"ngModel","ngModelChange"],["for","EfirstName",1,"mb-1","mr-2"],["type","text","name","first_name","id","EfirstName",1,"form-control",3,"ngModel","ngModelChange"],["for","ElastName",1,"mb-1","mr-2"],["type","text","name","last_name","id","ElastName",1,"form-control",3,"ngModel","ngModelChange"],[1,"name-group-size"],[1,"mb-1","mr-2"],["ngbRadioGroup","","name","radioBasic",1,"btn-group","btn-group-toggle","available-options",3,"ngModel","ngModelChange"],["for","EstatusTrue","ngbButtonLabel","",1,"custom-radio",2,"box-shadow","none",3,"ngClass"],["name","status","ngbButton","","type","radio","value","true","id","EstatusTrue"],["for","EstatusFalse","ngbButtonLabel","",1,"custom-radio",2,"box-shadow","none",3,"ngClass"],["name","status","ngbButton","","type","radio","value","false","id","EstatusFalse"],[1,"name-group-size","ml-3"],["for","TypeTrue","ngbButtonLabel","",1,"custom-radio",2,"box-shadow","none",3,"ngClass"],["name","type","ngbButton","","type","radio","value","true","id","TypeTrue"],["for","TypeFalse","ngbButtonLabel","",1,"custom-radio",2,"box-shadow","none",3,"ngClass"],["name","type","ngbButton","","type","radio","value","false","id","TypeFalse"],["for","EphoneNumber",1,"mb-1","mr-2"],["name","phone_number","id","EphoneNumber","type","tel",1,"form-control",3,"ngModel","ngModelChange"],["for","Eemail",1,"mb-1","mr-2"],["name","email","id","Eemail","type","email",1,"form-control",3,"ngModel","ngModelChange"],[1,"feeAlert",3,"type","close"],["type","button","data-toggle","modal","data-target","#newEntry",1,"btn","btn-raised","btn-main","btn-x"],[1,"fas","fa-plus-square"],["type","button",1,"btn","btn-raised","btn-edit","btn-enable",3,"click"],[1,"fas","fa-edit"],[1,"th-sm"],["data-toggle","modal","data-target","#fee",1,"btn",3,"click"],[1,"far","fa-credit-card"],["data-toggle","modal","data-target","#edit",1,"btn",3,"click"],["id","special-edit",1,"fas","fa-edit"],["data-toggle","modal","data-target","#delete",1,"btn",3,"click"],[1,"fas","fa-trash"],[1,"feeAlert",3,"dismissible","type","close"],["type","info","class","feeAlert",3,"dismissible","close",4,"ngIf"],["type","info",1,"feeAlert",3,"dismissible","close"],[2,"margin","0 5px"],["id","feeButton","class","btn btn-main","data-toggle","modal",3,"click",4,"ngIf"],["id","feeButton","data-toggle","modal",1,"btn","btn-main",3,"click"],["data-toggle","modal","data-target","#pay",1,"btn","btn-enable"]],template:function(e,t){if(1&e){var n=l.Tb();l.Sb(0,"main"),l.Sb(1,"div",0),l.Sb(2,"h3",1),l.Fc(3,"User's Information"),l.Rb(),l.Sb(4,"div",2),l.Dc(5,h,2,2,"ngb-alert",3),l.Rb(),l.Sb(6,"div",4),l.Sb(7,"div",5),l.Sb(8,"p",6),l.Fc(9,"Search By:"),l.Rb(),l.Sb(10,"div",7),l.Sb(11,"select",8),l.ec("ngModelChange",(function(e){return t.searchOptionCategory=e})),l.Sb(12,"option",9),l.Fc(13,"Name"),l.Rb(),l.Sb(14,"option",10),l.Fc(15,"Phone"),l.Rb(),l.Sb(16,"option",11),l.Fc(17,"Email"),l.Rb(),l.Rb(),l.Sb(18,"input",12),l.ec("ngModelChange",(function(e){return t.searchOptionInfo=e})),l.Rb(),l.Sb(19,"button",13),l.ec("click",(function(){return t.clearSearch()})),l.Nb(20,"i",14),l.Rb(),l.Rb(),l.Rb(),l.Sb(21,"div",15),l.Dc(22,y,3,0,"button",16),l.Dc(23,S,3,1,"button",17),l.Rb(),l.Rb(),l.Sb(24,"div",18),l.Sb(25,"div",19),l.Sb(26,"table",20),l.Sb(27,"thead"),l.Sb(28,"tr"),l.Dc(29,_,3,1,"ng-container",21),l.Dc(30,v,3,0,"ng-container",22),l.Dc(31,O,2,1,"ng-container",22),l.Rb(),l.Rb(),l.Sb(32,"tbody",23),l.Dc(33,F,15,11,"tr",21),l.Rb(),l.Rb(),l.Rb(),l.Sb(34,"div",24),l.Sb(35,"ngb-pagination",25),l.ec("pageChange",(function(e){return t.page=e})),l.Rb(),l.Sb(36,"select",26),l.ec("ngModelChange",(function(e){return t.pageSize=e})),l.Sb(37,"option",27),l.Fc(38,"4 items per page"),l.Rb(),l.Sb(39,"option",27),l.Fc(40,"6 items per page"),l.Rb(),l.Sb(41,"option",27),l.Fc(42,"8 items per page"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(43,"div",28),l.Sb(44,"div",29),l.Sb(45,"div",30),l.Sb(46,"div",31),l.Sb(47,"h6",32),l.Fc(48,"New Entry"),l.Rb(),l.Sb(49,"button",33),l.Fc(50,"\xd7"),l.Rb(),l.Rb(),l.Sb(51,"form",34,35),l.ec("ngSubmit",(function(){return t.postStudent(t.userForm)})),l.Sb(53,"div",36),l.Sb(54,"span"),l.Fc(55,"User"),l.Rb(),l.Nb(56,"hr",37),l.Sb(57,"div",38),l.Sb(58,"div",39),l.Nb(59,"i",40),l.Fc(60," Please fill out the required fields. "),l.Rb(),l.Sb(61,"label",41),l.Fc(62,"Password "),l.Sb(63,"span",42),l.Fc(64,"*"),l.Rb(),l.Rb(),l.Nb(65,"input",43),l.Sb(66,"div",44),l.Sb(67,"div"),l.Sb(68,"label",45),l.Fc(69,"First Name "),l.Sb(70,"span",42),l.Fc(71,"*"),l.Rb(),l.Rb(),l.Nb(72,"input",46),l.Rb(),l.Sb(73,"div",47),l.Sb(74,"label",48),l.Fc(75,"Last Name "),l.Sb(76,"span",42),l.Fc(77,"*"),l.Rb(),l.Rb(),l.Nb(78,"input",49),l.Rb(),l.Rb(),l.Sb(79,"label",50),l.Fc(80,"Type "),l.Sb(81,"span",42),l.Fc(82,"*"),l.Rb(),l.Rb(),l.Sb(83,"div",51),l.Sb(84,"div",52),l.Sb(85,"label",53),l.Nb(86,"input",54),l.Fc(87," Admin "),l.Rb(),l.Sb(88,"label",55),l.Nb(89,"input",56),l.Fc(90," User "),l.Rb(),l.Rb(),l.Rb(),l.Sb(91,"label",57),l.Fc(92,"Phone Number "),l.Sb(93,"span",42),l.Fc(94,"*"),l.Rb(),l.Rb(),l.Nb(95,"input",58),l.Sb(96,"label",59),l.Fc(97,"Email "),l.Sb(98,"span",42),l.Fc(99,"*"),l.Rb(),l.Rb(),l.Nb(100,"input",60),l.Rb(),l.Rb(),l.Sb(101,"div",61),l.Sb(102,"button",62),l.ec("click",(function(){return l.xc(n),l.wc(52).onSubmit(void 0)})),l.Fc(103,"Yes, add"),l.Rb(),l.Sb(104,"button",63),l.Fc(105,"No, cancel"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(106,"div",64),l.Sb(107,"div",29),l.Sb(108,"div",30),l.Sb(109,"div",31),l.Sb(110,"h6",32),l.Fc(111,"Check Fee"),l.Rb(),l.Sb(112,"button",33),l.Fc(113,"\xd7"),l.Rb(),l.Rb(),l.Sb(114,"div",36),l.Sb(115,"span"),l.Fc(116),l.Rb(),l.Nb(117,"hr",37),l.Sb(118,"div",65),l.Dc(119,z,2,3,"ngb-alert",66),l.Dc(120,I,2,2,"ngb-alert",3),l.Dc(121,N,2,1,"ng-container",21),l.Rb(),l.Rb(),l.Sb(122,"div",67),l.Dc(123,D,3,6,"button",68),l.Sb(124,"button",69),l.Fc(125,"No, Cancel"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(126,"div",70),l.Sb(127,"div",29),l.Sb(128,"div",30),l.Sb(129,"div",31),l.Sb(130,"h6",32),l.Fc(131,"Payment"),l.Rb(),l.Sb(132,"button",33),l.Fc(133,"\xd7"),l.Rb(),l.Rb(),l.Sb(134,"div",71),l.Sb(135,"span"),l.Fc(136),l.hc(137,"currency"),l.Rb(),l.Nb(138,"hr",37),l.Sb(139,"div",72),l.Nb(140,"i",73),l.Nb(141,"i",74),l.Nb(142,"i",75),l.Rb(),l.Rb(),l.Sb(143,"div",61),l.Sb(144,"button",76),l.ec("click",(function(){return t.payAll(t.selectedStudentInfo)})),l.Fc(145,"Yes, confirm"),l.Rb(),l.Sb(146,"button",63),l.Fc(147,"No, cancel"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(148,"div",77),l.Sb(149,"div",29),l.Sb(150,"div",30),l.Sb(151,"div",31),l.Sb(152,"h6",32),l.Fc(153,"Delete Entry"),l.Rb(),l.Sb(154,"button",33),l.Fc(155,"\xd7"),l.Rb(),l.Rb(),l.Sb(156,"div",78),l.Nb(157,"hr",79),l.Sb(158,"span"),l.Fc(159,"Are you sure you want to delete the student "),l.Sb(160,"strong"),l.Fc(161),l.Rb(),l.Fc(162,"? Note that this can not be undone. "),l.Rb(),l.Rb(),l.Sb(163,"div",80),l.Sb(164,"button",81),l.ec("click",(function(){return t.deleteStudent(t.selectedStudentInfo.id_students)})),l.Fc(165,"Yes, delete"),l.Rb(),l.Sb(166,"button",82),l.Fc(167,"No, cancel"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(168,"div",83),l.Sb(169,"div",29),l.Sb(170,"div",30),l.Sb(171,"div",31),l.Sb(172,"h6",32),l.Fc(173,"Edit Entry"),l.Rb(),l.Sb(174,"button",33),l.Fc(175,"\xd7"),l.Rb(),l.Rb(),l.Sb(176,"form"),l.Sb(177,"div",36),l.Sb(178,"span"),l.Fc(179,"User"),l.Rb(),l.Nb(180,"hr",37),l.Sb(181,"div",38),l.Sb(182,"label",84),l.Fc(183,"Password"),l.Rb(),l.Sb(184,"input",85),l.ec("ngModelChange",(function(e){return t.selectedStudentInfo.password=e})),l.Rb(),l.Sb(185,"div",44),l.Sb(186,"div"),l.Sb(187,"label",86),l.Fc(188,"First Name"),l.Rb(),l.Sb(189,"input",87),l.ec("ngModelChange",(function(e){return t.selectedStudentInfo.first_name=e})),l.Rb(),l.Rb(),l.Sb(190,"div",47),l.Sb(191,"label",88),l.Fc(192,"Last Name"),l.Rb(),l.Sb(193,"input",89),l.ec("ngModelChange",(function(e){return t.selectedStudentInfo.last_name=e})),l.Rb(),l.Rb(),l.Rb(),l.Sb(194,"div",44),l.Sb(195,"div",90),l.Sb(196,"label",91),l.Fc(197,"Status"),l.Rb(),l.Sb(198,"div",92),l.ec("ngModelChange",(function(e){return t.selectedStudentInfo.status=e})),l.Sb(199,"label",93),l.Nb(200,"input",94),l.Fc(201," Active "),l.Rb(),l.Sb(202,"label",95),l.Nb(203,"input",96),l.Fc(204," Inactive "),l.Rb(),l.Rb(),l.Rb(),l.Sb(205,"div",97),l.Sb(206,"label",91),l.Fc(207,"Type"),l.Rb(),l.Sb(208,"div",92),l.ec("ngModelChange",(function(e){return t.selectedStudentInfo.type=e})),l.Sb(209,"label",98),l.Nb(210,"input",99),l.Fc(211," Admin "),l.Rb(),l.Sb(212,"label",100),l.Nb(213,"input",101),l.Fc(214," User "),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(215,"label",102),l.Fc(216,"Phone Number"),l.Rb(),l.Sb(217,"input",103),l.ec("ngModelChange",(function(e){return t.selectedStudentInfo.phone_number=e})),l.Rb(),l.Sb(218,"label",104),l.Fc(219,"Email"),l.Rb(),l.Sb(220,"input",105),l.ec("ngModelChange",(function(e){return t.selectedStudentInfo.email=e})),l.Rb(),l.Rb(),l.Rb(),l.Sb(221,"div",61),l.Sb(222,"button",76),l.ec("click",(function(){return t.updateStudent(t.selectedStudentInfo)})),l.Fc(223,"Yes, edit"),l.Rb(),l.Sb(224,"button",63),l.Fc(225,"No, cancel"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&e){var o=l.wc(52);l.zb(5),l.nc("ngIf",t.studentAlert),l.zb(6),l.nc("ngModel",t.searchOptionCategory),l.zb(7),l.nc("ngModel",t.searchOptionInfo),l.zb(4),l.nc("ngIf",t.userAdmin),l.zb(1),l.nc("ngIf",t.userAdmin),l.zb(6),l.nc("ngForOf",t.tableTitles),l.zb(1),l.nc("ngIf",t.userAdmin),l.zb(1),l.nc("ngIf",t.userAdmin),l.zb(2),l.nc("ngForOf",t.studentArray),l.zb(2),l.nc("collectionSize",t.collectionSize)("page",t.page)("pageSize",t.pageSize),l.zb(1),l.nc("ngModel",t.pageSize),l.zb(1),l.nc("ngValue",4),l.zb(2),l.nc("ngValue",6),l.zb(2),l.nc("ngValue",8),l.zb(10),l.nc("formGroup",t.userForm),l.zb(7),l.nc("hidden",!o.submitted||t.userForm.valid),l.zb(7),l.nc("ngClass",l.rc(50,L,!(!t.userForm.get("password").invalid||!o.submitted))),l.zb(7),l.nc("ngClass",l.rc(52,L,!(!t.userForm.get("first_name").invalid||!o.submitted))),l.zb(6),l.nc("ngClass",l.rc(54,L,!(!t.userForm.get("last_name").invalid||!o.submitted))),l.zb(7),l.nc("ngClass",l.sc(56,E,"true"===t.userForm.get("type").value,"false"===t.userForm.get("type").value)),l.zb(3),l.nc("ngClass",l.sc(59,E,"false"===t.userForm.get("type").value,"true"===t.userForm.get("type").value)),l.zb(7),l.nc("ngClass",l.rc(62,L,!(!t.userForm.get("phone_number").invalid||!o.submitted))),l.zb(5),l.nc("ngClass",l.rc(64,L,!(!t.userForm.get("email").invalid||!o.submitted))),l.zb(2),l.Ab("data-dismiss",t.userForm.valid&&o.submitted?"modal":null),l.zb(14),l.Ic("",t.selectedStudentInfo.first_name," ",t.selectedStudentInfo.last_name," Fee's"),l.zb(3),l.nc("ngIf",t.feeStatus),l.zb(1),l.nc("ngIf",t.paymentAlert),l.zb(1),l.nc("ngForOf",t.feeArray),l.zb(1),l.nc("ngClass",l.rc(66,G,!!t.pendingFee)),l.zb(1),l.nc("ngIf",t.pendingFee),l.zb(13),l.Hc("Make a payment of ",l.jc(137,47,t.dueAmount,"USD"),""),l.zb(25),l.Ic("",t.selectedStudentInfo.first_name," ",t.selectedStudentInfo.last_name,""),l.zb(23),l.nc("ngModel",t.selectedStudentInfo.password),l.zb(5),l.nc("ngModel",t.selectedStudentInfo.first_name),l.zb(4),l.nc("ngModel",t.selectedStudentInfo.last_name),l.zb(5),l.nc("ngModel",t.selectedStudentInfo.status),l.zb(1),l.nc("ngClass",l.sc(68,E,"true"===t.selectedStudentInfo.status,"false"===t.selectedStudentInfo.status)),l.zb(3),l.nc("ngClass",l.sc(71,E,"false"===t.selectedStudentInfo.status,"true"===t.selectedStudentInfo.status)),l.zb(6),l.nc("ngModel",t.selectedStudentInfo.type),l.zb(1),l.nc("ngClass",l.sc(74,E,"true"===t.selectedStudentInfo.type,"false"===t.selectedStudentInfo.type)),l.zb(3),l.nc("ngClass",l.sc(77,E,"false"===t.selectedStudentInfo.type,"true"===t.selectedStudentInfo.type)),l.zb(5),l.nc("ngModel",t.selectedStudentInfo.phone_number),l.zb(3),l.nc("ngModel",t.selectedStudentInfo.email)}},directives:[g.l,c.r,c.i,c.l,c.m,c.t,c.a,g.k,f.n,c.u,c.j,c.d,c.c,g.j,f.p,f.b,f.o,c.k,f.a],pipes:[g.c,p,m],styles:['@import url("https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@500&display=swap");.close[_ngcontent-%COMP%]{font-size:1em}.custom-modal[_ngcontent-%COMP%]{font-family:Noto Sans JP,sans-serif}.custom-modal-size[_ngcontent-%COMP%]{width:75%;margin:0 auto}ngb-alert[_ngcontent-%COMP%]{font-size:14px}.custom-modal-head[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:space-between;margin:20px auto 0}.custom-modal-body[_ngcontent-%COMP%]{width:90%;margin:20px auto 0;position:relative;flex:1 1 auto}.custom-modal-body-delete[_ngcontent-%COMP%]{width:90%;margin:20px auto;position:relative;flex:1 1 auto}.custom-modal-body-delete[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px}.custom-modal-body[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;color:#afb4c7}.custom-modal-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-size:12px;color:#767676;margin-top:10px}.custom-modal-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{font-size:14px}.custom-modal-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{outline:0;border:1px solid rgba(72,144,153,.56);box-shadow:0 0 0 .2rem rgba(72,144,153,.56)}.custom-modal-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-child{margin-top:10px}.custom-modal-footer[_ngcontent-%COMP%]{background-color:#eff2fc}.custom-modal-footer[_ngcontent-%COMP%], .custom-modal-footer-nb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:.75rem;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.custom-modal-footer-nb[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .custom-modal-footer[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:13px;padding:.375rem 1rem}.name-group[_ngcontent-%COMP%]{display:flex;flex-direction:row}.name-group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-size:12px;color:#767676;margin-top:10px}.name-group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{font-size:14px}.name-group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-size:13px;width:50%}.name-group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{outline:0;border:1px solid rgba(72,144,153,.56);box-shadow:0 0 0 .2rem rgba(72,144,153,.56)}.name-group-size[_ngcontent-%COMP%]{width:50%}.available-student[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:.47rem .75rem;font-size:12px}.required-asterisk[_ngcontent-%COMP%]{color:red}table[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;text-align:center}main[_ngcontent-%COMP%]{margin:0 auto;display:flex}.main-container[_ngcontent-%COMP%]{margin:20px auto;width:90%;max-width:1400px;display:flex;flex-direction:column;flex-wrap:wrap;background-color:#fff}#feeButton[_ngcontent-%COMP%]{margin-left:40px;white-space:nowrap;font-size:13px}.feeAlert[_ngcontent-%COMP%]{color:#000;display:flex;align-items:center;justify-content:center;margin:10px auto 15px}#alerts[_ngcontent-%COMP%]{width:70%;margin:0 auto}.user-table[_ngcontent-%COMP%]{font-size:13px;overflow:auto;height:auto;margin:0 auto;width:85%}.fee-body[_ngcontent-%COMP%]{max-height:50vh;overflow:auto}.special-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.modal-body-custom[_ngcontent-%COMP%]{text-align:center}.modal-body-custom[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#767676;font-size:14px}#payment-methods[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:3em;margin:15px}.user-pagination[_ngcontent-%COMP%]{overflow:auto;margin:0 auto;width:85%}h3[_ngcontent-%COMP%]{text-align:center;font-family:Raleway,sans-serif;font-weight:400}.user-options[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:85%;margin:10px auto 30px;max-height:30vh}.buttons-search-student[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:13px;width:140px;display:flex;align-items:center;justify-content:space-evenly}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0!important}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-right:2%!important}#search-select[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], #search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{white-space:nowrap;border-left:none}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:80px}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:38px;border-left:none;border-right:none}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{width:150px;border-right:none}.custom-options[_ngcontent-%COMP%]{display:flex;flex-direction:row}.fa-credit-card[_ngcontent-%COMP%]{color:#6757a8;font-size:22px}.fa-credit-card[_ngcontent-%COMP%]:hover{color:#493d79}#special-edit[_ngcontent-%COMP%]{color:#00865c;font-size:22px}#special-edit[_ngcontent-%COMP%]:hover{color:#004731}.fa-trash[_ngcontent-%COMP%]{color:#ac4c55;font-size:22px}.fa-trash[_ngcontent-%COMP%]:hover{color:#662c32}.btn-x[_ngcontent-%COMP%]{margin:0 1em}@media only screen and (max-width:600px){#search[_ngcontent-%COMP%]{width:90%;flex-wrap:wrap;justify-content:center}.user-table[_ngcontent-%COMP%]{width:95%}#user-table-group[_ngcontent-%COMP%]{width:100%}.user-options[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;margin:0 auto}.buttons-search-student[_ngcontent-%COMP%]{margin:20px auto}.user-pagination[_ngcontent-%COMP%]{flex-wrap:wrap;margin-bottom:20px}.btn-x[_ngcontent-%COMP%]{margin:0 1em 0 0}}@media only screen and (min-width:601px) and (max-width:960px){#user-table-group[_ngcontent-%COMP%]{width:100%}.user-table[_ngcontent-%COMP%]{width:95%}.user-options[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;margin:0 auto}.buttons-search-student[_ngcontent-%COMP%]{margin:20px auto}}']}),T);function B(e,t){if(1&e){var n=l.Tb();l.Sb(0,"ngb-alert",43),l.ec("close",(function(){return l.xc(n),l.gc().paymentAlert=!1})),l.Fc(1),l.Rb()}if(2&e){var o=l.gc();l.nc("type",o.alertType),l.zb(1),l.Gc(o.paymentMessage)}}function H(e,t){1&e&&(l.Sb(0,"div",44),l.Sb(1,"button",45),l.Fc(2,"Pay Now"),l.Rb(),l.Rb())}function q(e,t){1&e&&(l.Sb(0,"div",46),l.Nb(1,"i",47),l.Sb(2,"h3"),l.Fc(3,"There's no active loan information to display."),l.Rb(),l.Rb())}function V(e,t){if(1&e&&(l.Qb(0),l.Sb(1,"th",52),l.Fc(2),l.Rb(),l.Pb()),2&e){var n=t.$implicit;l.zb(2),l.Hc(" ",n," ")}}var Q=function(e){return{nullData:e}};function U(e,t){if(1&e&&(l.Sb(0,"tr"),l.Qb(1),l.Sb(2,"td",53),l.Fc(3),l.Rb(),l.Sb(4,"td",53),l.Fc(5),l.Rb(),l.Sb(6,"td",53),l.Fc(7),l.Rb(),l.Sb(8,"td"),l.Fc(9),l.hc(10,"currency"),l.Rb(),l.Sb(11,"td",54),l.Fc(12),l.hc(13,"convertToPending"),l.Rb(),l.Pb(),l.Rb()),2&e){var n=t.$implicit;l.zb(3),l.Gc(n.returned_day),l.zb(2),l.Gc(n.title),l.zb(2),l.Ic("",n.authorFirst," ",n.authorLast,""),l.zb(2),l.Gc(l.jc(10,7,n.fee_amount,"USD")),l.zb(2),l.nc("ngClass",l.rc(12,Q,null===n.payed_day)),l.zb(1),l.Gc(l.ic(13,10,n.payed_day))}}function $(e,t){if(1&e&&(l.Sb(0,"div",48),l.Sb(1,"table",49),l.Sb(2,"thead"),l.Sb(3,"tr"),l.Dc(4,V,3,1,"ng-container",50),l.Rb(),l.Rb(),l.Sb(5,"tbody",51),l.Dc(6,U,14,14,"tr",50),l.Rb(),l.Rb(),l.Rb()),2&e){var n=l.gc();l.zb(4),l.nc("ngForOf",n.tableTitles),l.zb(2),l.nc("ngForOf",n.fees)}}function Y(e,t){if(1&e){var n=l.Tb();l.Sb(0,"div",55),l.Sb(1,"ngb-pagination",56),l.ec("pageChange",(function(e){return l.xc(n),l.gc().page=e})),l.Rb(),l.Sb(2,"select",57),l.ec("ngModelChange",(function(e){return l.xc(n),l.gc().pageSize=e})),l.Sb(3,"option",58),l.Fc(4,"4 items per page"),l.Rb(),l.Sb(5,"option",58),l.Fc(6,"6 items per page"),l.Rb(),l.Sb(7,"option",58),l.Fc(8,"8 items per page"),l.Rb(),l.Rb(),l.Rb()}if(2&e){var o=l.gc();l.zb(1),l.nc("collectionSize",o.collectionSize)("page",o.page)("pageSize",o.pageSize),l.zb(1),l.nc("ngModel",o.pageSize),l.zb(1),l.nc("ngValue",4),l.zb(2),l.nc("ngValue",6),l.zb(2),l.nc("ngValue",8)}}var J,K=((J=function(){function e(t,n){_classCallCheck(this,e),this.usersService=t,this.feeService=n,this.page=1,this.pageSize=6,this.searchOptionCategory="returnedDate",this.fee=!1,this.feeArray=[],this.feeArrayOriginal=[],this.payedArr=[],this.tableTitles=["Returned Date","Title","Author","Fee Amount","Payed Date"],this.paymentAlert=!1,this.dueItems=0,this.totalDue=0,this.payOb={id_students:null,today:null},this.activeFee=!1,this.feeArrayBackEnd=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=+localStorage.getItem("userId");this.retrieveFees(e)}},{key:"retrieveFees",value:function(e){var t=this;this.feeService.retrieveFees(e).subscribe({next:function(e){if(e.length<=0)t.activeFee=!1;else if(e.length>0){t.feeArrayBackEnd=[],t.feeArrayOriginal=[],t.activeFee=!0,t.feeArrayBackEnd=e.sort((function(e,t){return e.returned_day>t.returned_day?-1:t.returned_day>e.returned_day?1:0}));var n,o=_createForOfIteratorHelper(t.feeArrayBackEnd);try{for(o.s();!(n=o.n()).done;){var a=n.value;0!=+a.fee_amount&&t.feeArrayOriginal.push(a)}}catch(s){o.e(s)}finally{o.f()}t.feeArray=_toConsumableArray(t.feeArrayOriginal);var r,i=_createForOfIteratorHelper(t.feeArrayOriginal);try{for(i.s();!(r=i.n()).done;){var c=r.value;+c.fee_amount>0&&null===c.payed_day&&(t.totalDue+=+c.fee_amount,t.dueItems++),null!==c.payed_day&&t.payedArr.push(c)}}catch(s){i.e(s)}finally{i.f()}t.fee=t.totalDue>0,t.collectionSize=t.feeArrayOriginal.length}},error:function(e){return console.log(e)}})}},{key:"performFilter",value:function(e,t){switch(e=e.toLowerCase(),t){case"returnedDate":return this.feeArrayOriginal.filter((function(t){return-1!==t.returned_day.toString().indexOf(e)}));case"title":return this.feeArrayOriginal.filter((function(t){return-1!==t.title.toLowerCase().indexOf(e)}));case"author":return this.feeArrayOriginal.filter((function(t){return-1!==(t.authorFirst+t.authorLast).toLowerCase().indexOf(e)}));case"feeAmount":return this.feeArrayOriginal.filter((function(t){return-1!==t.fee_amount.toString().indexOf(e)}));case"payedDate":return this.payedArr.filter((function(t){return-1!==t.payed_day.toString().indexOf(e)}))}}},{key:"payNow",value:function(){var e=this,t=+localStorage.getItem("userId");this.payOb.id_students=t;var n=new Date;return this.payOb.today="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),new Promise((function(t,n){e.feeService.payAll(e.payOb).subscribe({next:function(n){"404"===n.result?(e.paymentAlert=!0,setTimeout((function(){return e.paymentAlert=!1}),4e3),e.paymentMessage=n.message,e.alertType="danger"):"200"===n.result&&(e.paymentAlert=!0,setTimeout((function(){return e.paymentAlert=!1}),4e3),e.paymentMessage=n.message,e.alertType="success",e.totalDue=0,e.dueItems=0),t(!0)},error:function(e){console.log(e),t(!1)}})})).then((function(){return e.retrieveFees(t)}))}},{key:"clearSearch",value:function(){this.searchOptionInfo=null}},{key:"fees",get:function(){return this.feeArray.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}},{key:"searchOptionInfo",get:function(){return this._searchOptionInfo},set:function(e){this._searchOptionInfo=e,this.feeArray=this._searchOptionInfo&&this.searchOptionCategory?this.performFilter(e,this.searchOptionCategory):this.feeArrayOriginal,this.collectionSize=this.feeArray.length}}]),e}()).\u0275fac=function(e){return new(e||J)(l.Mb(u.a),l.Mb(d.a))},J.\u0275cmp=l.Gb({type:J,selectors:[["app-user-fees"]],decls:68,vars:15,consts:[[1,"main-container","shadow","rounded"],[1,"mt-4"],["id","alerts"],["class","feeAlert",3,"type","close",4,"ngIf"],[1,"user-options"],["id","search"],[1,"options"],[1,"custom-options"],["id","search-select","name","search",1,"custom-select","my-1","mr-sm-2","select-search",2,"box-shadow","none",3,"ngModel","ngModelChange"],["value","returnedDate"],["value","title"],["value","author"],["value","feeAmount"],["value","payedDate"],["type","text",1,"form-control","mb-2","mr-sm-2","form-control-sm","input-search",2,"box-shadow","none",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-raised","btn-search",2,"box-shadow","none",3,"click"],[1,"fas","fa-backspace"],[1,"userFeeGroup"],[1,"userFeeInfo"],[1,"userInfoLegends"],[1,"fas","fa-tags"],[1,"fas","fa-money-bill"],[1,"userInfoValues"],["id","buttonGroup",4,"ngIf"],[1,"user-table-group"],["class","no-info-group",4,"ngIf"],["class","user-table",4,"ngIf"],["class","d-flex justify-content-between mt-4 user-pagination",4,"ngIf"],["id","pay",1,"modal","custom-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","custom-modal-size"],[1,"custom-modal-head"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body","modal-body-custom"],[2,"margin","5px 0","font-size","13px"],["id","payment-methods"],[1,"fab","fa-cc-visa"],[1,"fab","fa-cc-mastercard"],[1,"fab","fa-cc-paypal"],[1,"custom-modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-main",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-cancel","ml-3"],[1,"feeAlert",3,"type","close"],["id","buttonGroup"],["id","payNow","data-toggle","modal","data-target","#pay","type","button",1,"btn-main"],[1,"no-info-group"],[1,"far","fa-sad-tear",2,"font-size","10em"],[1,"user-table"],["id","dtBasicExample","width","100%",1,"table","table-striped"],[4,"ngFor","ngForOf"],["id","user-info"],[1,"th-sm",2,"white-space","nowrap"],[2,"white-space","nowrap"],[3,"ngClass"],[1,"d-flex","justify-content-between","mt-4","user-pagination"],[3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(l.Sb(0,"main"),l.Sb(1,"div",0),l.Sb(2,"h3",1),l.Fc(3,"Fee History"),l.Rb(),l.Sb(4,"div",2),l.Dc(5,B,2,2,"ngb-alert",3),l.Rb(),l.Sb(6,"div",4),l.Sb(7,"div",5),l.Sb(8,"p",6),l.Fc(9,"Search By:"),l.Rb(),l.Sb(10,"div",7),l.Sb(11,"select",8),l.ec("ngModelChange",(function(e){return t.searchOptionCategory=e})),l.Sb(12,"option",9),l.Fc(13,"Returned Date"),l.Rb(),l.Sb(14,"option",10),l.Fc(15,"Title"),l.Rb(),l.Sb(16,"option",11),l.Fc(17,"Author"),l.Rb(),l.Sb(18,"option",12),l.Fc(19,"Fee Amount"),l.Rb(),l.Sb(20,"option",13),l.Fc(21,"Payed Date"),l.Rb(),l.Rb(),l.Sb(22,"input",14),l.ec("ngModelChange",(function(e){return t.searchOptionInfo=e})),l.Rb(),l.Sb(23,"button",15),l.ec("click",(function(){return t.clearSearch()})),l.Nb(24,"i",16),l.Rb(),l.Rb(),l.Rb(),l.Sb(25,"div",17),l.Sb(26,"div",18),l.Sb(27,"div",19),l.Sb(28,"span"),l.Nb(29,"i",20),l.Fc(30," Current Due Items:"),l.Rb(),l.Sb(31,"span"),l.Nb(32,"i",21),l.Fc(33," Total Amount Due:"),l.Rb(),l.Rb(),l.Sb(34,"div",22),l.Sb(35,"span"),l.Fc(36),l.Rb(),l.Sb(37,"span"),l.Fc(38),l.hc(39,"currency"),l.Rb(),l.Rb(),l.Rb(),l.Dc(40,H,3,0,"div",23),l.Rb(),l.Rb(),l.Sb(41,"div",24),l.Sb(42,"div"),l.Dc(43,q,4,0,"div",25),l.Dc(44,$,7,2,"div",26),l.Dc(45,Y,9,7,"div",27),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(46,"div",28),l.Sb(47,"div",29),l.Sb(48,"div",30),l.Sb(49,"div",31),l.Sb(50,"h6",32),l.Fc(51,"Payment"),l.Rb(),l.Sb(52,"button",33),l.Fc(53,"\xd7"),l.Rb(),l.Rb(),l.Sb(54,"div",34),l.Sb(55,"span"),l.Fc(56),l.hc(57,"currency"),l.Rb(),l.Nb(58,"hr",35),l.Sb(59,"div",36),l.Nb(60,"i",37),l.Nb(61,"i",38),l.Nb(62,"i",39),l.Rb(),l.Rb(),l.Sb(63,"div",40),l.Sb(64,"button",41),l.ec("click",(function(){return t.payNow()})),l.Fc(65,"Yes, pay all"),l.Rb(),l.Sb(66,"button",42),l.Fc(67,"No, cancel"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.zb(5),l.nc("ngIf",t.paymentAlert),l.zb(6),l.nc("ngModel",t.searchOptionCategory),l.zb(11),l.nc("ngModel",t.searchOptionInfo),l.zb(14),l.Gc(t.dueItems),l.zb(2),l.Gc(l.ic(39,10,t.totalDue)),l.zb(2),l.nc("ngIf",t.fee),l.zb(3),l.nc("ngIf",!t.activeFee),l.zb(1),l.nc("ngIf",t.activeFee),l.zb(1),l.nc("ngIf",t.activeFee),l.zb(11),l.Hc("Make a payment of ",l.jc(57,12,t.totalDue,"USD"),""))},directives:[g.l,c.r,c.i,c.l,c.m,c.t,c.a,f.a,g.k,g.j,f.n],pipes:[g.c,m],styles:['@import url("https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@500&display=swap");.close[_ngcontent-%COMP%]{font-size:1em}.custom-modal[_ngcontent-%COMP%]{font-family:Noto Sans JP,sans-serif}.custom-modal-size[_ngcontent-%COMP%]{width:75%;margin:0 auto}.custom-modal-head[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:space-between;margin:20px auto 0}.custom-modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:.75rem;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px);background-color:#eff2fc}.custom-modal-footer[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:13px;padding:.375rem 1rem}.modal-body-custom[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#767676;font-size:14px}table[_ngcontent-%COMP%]{text-align:center}main[_ngcontent-%COMP%]{margin:0 auto;display:flex}.main-container[_ngcontent-%COMP%]{margin:20px auto;width:90%;max-width:1400px;display:flex;flex-direction:column;flex-wrap:wrap;background-color:#fff}.user-table[_ngcontent-%COMP%]{font-size:13px;height:auto}.user-pagination[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]{overflow:auto;margin:0 auto;width:90%}.nullData[_ngcontent-%COMP%]{font-weight:700;font-style:italic}.userFeeInfo[_ngcontent-%COMP%]{display:flex;flex-direction:row}.userInfoLegends[_ngcontent-%COMP%]{display:flex;flex-direction:column}.userInfoLegends[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{white-space:nowrap}.userInfoValues[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-left:10px}.user-options[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:90%;margin:10px auto 30px;max-height:30vh}.userFeeGroup[_ngcontent-%COMP%]{margin-left:auto;display:flex;justify-content:center;flex-direction:column}#payNow[_ngcontent-%COMP%]{font-family:Noto Sans,sans-serif;border-radius:3px;padding:0 10px;border:1px solid #584a94;margin-top:5px}#payNow[_ngcontent-%COMP%]:hover{cursor:pointer}#buttonGroup[_ngcontent-%COMP%]{display:flex;justify-content:center}#alerts[_ngcontent-%COMP%]{width:70%;margin:0 auto}#alerts[_ngcontent-%COMP%], .modal-body-custom[_ngcontent-%COMP%]{text-align:center}#payment-methods[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:3em;margin:15px}.no-info-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center;height:auto;margin:90px auto}.no-info-group[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin-top:30px}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0!important}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-right:2%!important}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{white-space:nowrap;border-left:none}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:110px}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:38px;border-left:none;border-right:none}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{width:150px;border-right:none}.custom-options[_ngcontent-%COMP%]{display:flex;flex-direction:row}h3[_ngcontent-%COMP%]{text-align:center;font-family:Raleway,sans-serif;font-weight:400}@media only screen and (max-width:600px){#search[_ngcontent-%COMP%]{width:100%;flex-wrap:wrap;justify-content:center}.user-table[_ngcontent-%COMP%]{width:95%}.user-table-group[_ngcontent-%COMP%]{width:100%}.user-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-height:none;margin-bottom:20px;justify-content:center}.user-pagination[_ngcontent-%COMP%]{flex-wrap:wrap;margin:4% auto!important}.no-info-group[_ngcontent-%COMP%]{text-align:center}.userFeeGroup[_ngcontent-%COMP%]{margin-top:20px;margin-left:0}}@media only screen and (min-width:601px) and (max-width:960px){#search[_ngcontent-%COMP%]{margin:0 auto;width:100%}#search[_ngcontent-%COMP%], .user-options[_ngcontent-%COMP%]{justify-content:center}.user-options[_ngcontent-%COMP%]{flex-wrap:wrap;margin-bottom:20px}.user-table-group[_ngcontent-%COMP%]{width:100%}.user-table[_ngcontent-%COMP%]{width:90%}.user-pagination[_ngcontent-%COMP%]{margin:4% auto}.userFeeGroup[_ngcontent-%COMP%]{margin-top:20px;margin-left:0}.custom-options[_ngcontent-%COMP%]{margin:0}}']}),J),X=n("0C2C");function W(e,t){1&e&&(l.Sb(0,"div",27),l.Nb(1,"i",28),l.Sb(2,"h3"),l.Fc(3,"There's no active loan information to display."),l.Rb(),l.Rb())}function Z(e,t){if(1&e&&(l.Qb(0),l.Sb(1,"th",33),l.Fc(2),l.Rb(),l.Pb()),2&e){var n=t.$implicit;l.zb(2),l.Hc(" ",n," ")}}var ee=function(e){return{nullData:e}};function te(e,t){if(1&e&&(l.Sb(0,"tr"),l.Qb(1),l.Sb(2,"td",34),l.Fc(3),l.Rb(),l.Sb(4,"td",35),l.Fc(5),l.hc(6,"convertToPending"),l.Rb(),l.Sb(7,"td",35),l.Fc(8),l.hc(9,"convertToPending"),l.Rb(),l.Sb(10,"td",35),l.Fc(11),l.hc(12,"convertToPending"),l.Rb(),l.Sb(13,"td"),l.Fc(14),l.Rb(),l.Sb(15,"td"),l.Fc(16),l.Rb(),l.Sb(17,"td"),l.Fc(18),l.Rb(),l.Pb(),l.Rb()),2&e){var n=t.$implicit;l.zb(3),l.Gc(n.order_date),l.zb(1),l.nc("ngClass",l.rc(17,ee,null===n.out_date)),l.zb(1),l.Gc(l.ic(6,11,n.out_date)),l.zb(2),l.nc("ngClass",l.rc(19,ee,null===n.out_date)),l.zb(1),l.Gc(l.ic(9,13,n.due_date)),l.zb(2),l.nc("ngClass",l.rc(21,ee,null===n.returned_day)),l.zb(1),l.Gc(l.ic(12,15,n.returned_day)),l.zb(3),l.Gc(n.title),l.zb(2),l.Ic("",n.first_name_author," ",n.last_name_author,""),l.zb(2),l.Gc(n.id_isbn)}}function ne(e,t){if(1&e&&(l.Sb(0,"div",29),l.Sb(1,"table",30),l.Sb(2,"thead"),l.Sb(3,"tr"),l.Dc(4,Z,3,1,"ng-container",31),l.Rb(),l.Rb(),l.Sb(5,"tbody",32),l.Dc(6,te,19,23,"tr",31),l.Rb(),l.Rb(),l.Rb()),2&e){var n=l.gc();l.zb(4),l.nc("ngForOf",n.tableTitles),l.zb(2),l.nc("ngForOf",n.loans)}}function oe(e,t){if(1&e){var n=l.Tb();l.Sb(0,"div",36),l.Sb(1,"ngb-pagination",37),l.ec("pageChange",(function(e){return l.xc(n),l.gc().page=e})),l.Rb(),l.Sb(2,"select",38),l.ec("ngModelChange",(function(e){return l.xc(n),l.gc().pageSize=e})),l.Sb(3,"option",39),l.Fc(4,"4 items per page"),l.Rb(),l.Sb(5,"option",39),l.Fc(6,"6 items per page"),l.Rb(),l.Sb(7,"option",39),l.Fc(8,"8 items per page"),l.Rb(),l.Rb(),l.Rb()}if(2&e){var o=l.gc();l.zb(1),l.nc("collectionSize",o.collectionSize)("page",o.page)("pageSize",o.pageSize),l.zb(1),l.nc("ngModel",o.pageSize),l.zb(1),l.nc("ngValue",4),l.zb(2),l.nc("ngValue",6),l.zb(2),l.nc("ngValue",8)}}var ae,re,ie=((re=function(){function e(t){_classCallCheck(this,e),this.loanService=t,this.page=1,this.pageSize=6,this.loan=[],this.loansArray=[],this.requestResult=[],this.tableTitles=["Order Date","Out Date","Due Date","Returned Date","Title","Author","ISBN"],this.searchOptionCategory="orderDate",this.checkedItems=0,this.holdedItems=0,this.activeLoan=!1,this.pendingOutLoan=[],this.pendingReturnLoan=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getLoans()}},{key:"getLoans",value:function(){var e=this;return new Promise((function(t,n){e.loanService.getLoans().subscribe({next:function(n){e.requestResult=n.sort((function(e,t){return e.order_date>t.order_date?-1:t.order_date>e.order_date?1:0}));var o,a=+localStorage.getItem("userId"),r=_createForOfIteratorHelper(e.requestResult);try{for(r.s();!(o=r.n()).done;){var i=o.value;+i.id_students===a&&e.loansArray.push(i)}}catch(g){r.e(g)}finally{r.f()}e.activeLoan=e.loansArray.length>0;var c,s=_createForOfIteratorHelper(e.loansArray);try{for(s.s();!(c=s.n()).done;){var l=c.value;null===l.out_date&&null===l.returned_day&&e.holdedItems++,null!==l.out_date&&null===l.returned_day&&e.checkedItems++}}catch(g){s.e(g)}finally{s.f()}var u,b=_createForOfIteratorHelper(e.loansArray);try{for(b.s();!(u=b.n()).done;){var d=u.value;null!==d.out_date&&e.pendingOutLoan.push(d),null!==d.returned_day&&e.pendingReturnLoan.push(d)}}catch(g){b.e(g)}finally{b.f()}e.loan=_toConsumableArray(e.loansArray),e.collectionSize=e.loan.length,t(!0)},error:function(e){console.log(e),t(!1)}})}))}},{key:"performFilter",value:function(e,t){switch(e=e.toLocaleLowerCase(),t){case"orderDate":return this.loan.filter((function(t){return-1!==t.order_date.toString().indexOf(e)}));case"outDate":return this.pendingOutLoan.filter((function(t){return-1!==t.out_date.toString().indexOf(e)}));case"dueDate":return this.pendingOutLoan.filter((function(t){return-1!==t.due_date.toString().indexOf(e)}));case"returnedDate":return this.pendingReturnLoan.filter((function(t){return-1!==t.returned_day.toString().indexOf(e)}));case"title":return this.loan.filter((function(t){return-1!==t.title.toLowerCase().indexOf(e)}));case"author":return this.loan.filter((function(t){return-1!==(t.first_name_author+t.last_name_author).toLowerCase().indexOf(e)}));case"isbn":return this.loan.filter((function(t){return-1!==t.id_isbn.toString().indexOf(e)}))}}},{key:"clearSearch",value:function(){this.searchOptionInfo=null}},{key:"loans",get:function(){return this.loansArray.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}},{key:"searchOptionInfo",get:function(){return this._searchOptionInfo},set:function(e){this._searchOptionInfo=e,this.loansArray=this._searchOptionInfo&&this.searchOptionCategory?this.performFilter(e,this.searchOptionCategory):this.loan,this.collectionSize=this.loansArray.length}}]),e}()).\u0275fac=function(e){return new(e||re)(l.Mb(X.a))},re.\u0275cmp=l.Gb({type:re,selectors:[["app-user-loans"]],decls:45,vars:7,consts:[[1,"main-container","shadow","rounded"],[1,"mt-4"],[1,"user-options"],["id","search"],[1,"options"],[1,"custom-options"],["id","search-select","name","search",1,"custom-select","my-1","mr-sm-2","select-search",2,"box-shadow","none",3,"ngModel","ngModelChange"],["value","orderDate"],["value","outDate"],["value","dueDate"],["value","returnedDate"],["value","title"],["value","author"],["value","isbn"],["type","text",1,"form-control","mb-2","mr-sm-2","form-control-sm","input-search",2,"box-shadow","none",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-raised","btn-search",2,"box-shadow","none",3,"click"],[1,"fas","fa-backspace"],[1,"userFeeGroup"],[1,"userFeeInfo"],[1,"userInfoLegends"],[1,"fas","fa-check-square"],[1,"fas","fa-book"],[1,"userInfoValues"],[1,"user-table-group"],["class","no-info-group",4,"ngIf"],["class","user-table",4,"ngIf"],["class","d-flex justify-content-between mt-4 user-pagination",4,"ngIf"],[1,"no-info-group"],[1,"far","fa-sad-tear",2,"font-size","10em"],[1,"user-table"],["id","dtBasicExample","width","100%",1,"table","table-striped"],[4,"ngFor","ngForOf"],["id","user-info"],[1,"th-sm",2,"white-space","nowrap"],[2,"white-space","nowrap"],[2,"white-space","nowrap",3,"ngClass"],[1,"d-flex","justify-content-between","mt-4","user-pagination"],[3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(l.Sb(0,"main"),l.Sb(1,"div",0),l.Sb(2,"h3",1),l.Fc(3,"Loan History"),l.Rb(),l.Sb(4,"div",2),l.Sb(5,"div",3),l.Sb(6,"p",4),l.Fc(7,"Search By:"),l.Rb(),l.Sb(8,"div",5),l.Sb(9,"select",6),l.ec("ngModelChange",(function(e){return t.searchOptionCategory=e})),l.Sb(10,"option",7),l.Fc(11,"Order Date"),l.Rb(),l.Sb(12,"option",8),l.Fc(13,"Out Date"),l.Rb(),l.Sb(14,"option",9),l.Fc(15,"Due Date"),l.Rb(),l.Sb(16,"option",10),l.Fc(17,"Returned Date"),l.Rb(),l.Sb(18,"option",11),l.Fc(19,"Title"),l.Rb(),l.Sb(20,"option",12),l.Fc(21,"Author"),l.Rb(),l.Sb(22,"option",13),l.Fc(23,"ISBN"),l.Rb(),l.Rb(),l.Sb(24,"input",14),l.ec("ngModelChange",(function(e){return t.searchOptionInfo=e})),l.Rb(),l.Sb(25,"button",15),l.ec("click",(function(){return t.clearSearch()})),l.Nb(26,"i",16),l.Rb(),l.Rb(),l.Rb(),l.Sb(27,"div",17),l.Sb(28,"div",18),l.Sb(29,"div",19),l.Sb(30,"span"),l.Nb(31,"i",20),l.Fc(32," Total Items Checked Out:"),l.Rb(),l.Sb(33,"span"),l.Nb(34,"i",21),l.Fc(35," Total Items on Hold:"),l.Rb(),l.Rb(),l.Sb(36,"div",22),l.Sb(37,"span"),l.Fc(38),l.Rb(),l.Sb(39,"span"),l.Fc(40),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(41,"div",23),l.Dc(42,W,4,0,"div",24),l.Dc(43,ne,7,2,"div",25),l.Dc(44,oe,9,7,"div",26),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.zb(9),l.nc("ngModel",t.searchOptionCategory),l.zb(15),l.nc("ngModel",t.searchOptionInfo),l.zb(14),l.Gc(t.checkedItems),l.zb(2),l.Gc(t.holdedItems),l.zb(2),l.nc("ngIf",!t.activeLoan),l.zb(1),l.nc("ngIf",t.activeLoan),l.zb(1),l.nc("ngIf",t.activeLoan))},directives:[c.r,c.i,c.l,c.m,c.t,c.a,g.l,g.k,g.j,f.n],pipes:[m],styles:["table[_ngcontent-%COMP%]{text-align:center}main[_ngcontent-%COMP%]{margin:0 auto;display:flex}.main-container[_ngcontent-%COMP%]{margin:20px auto;width:90%;max-width:1400px;display:flex;flex-direction:column;flex-wrap:wrap;background-color:#fff}.user-table[_ngcontent-%COMP%]{font-size:13px;height:auto}.user-pagination[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]{overflow:auto;margin:0 auto;width:90%}.nullData[_ngcontent-%COMP%]{font-weight:700;font-style:italic}.userFeeInfo[_ngcontent-%COMP%]{display:flex;flex-direction:row}.userInfoLegends[_ngcontent-%COMP%]{display:flex;flex-direction:column}.userInfoLegends[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{white-space:nowrap}.userInfoValues[_ngcontent-%COMP%]{flex-direction:column;margin-left:10px}#search[_ngcontent-%COMP%], .userInfoValues[_ngcontent-%COMP%]{display:flex;align-items:center}#search[_ngcontent-%COMP%]{flex-direction:row;width:70%;margin:1% auto 1% 0;justify-content:center}.user-options[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:90%;margin:10px auto 30px;max-height:30vh}.userFeeGroup[_ngcontent-%COMP%]{margin-left:auto;justify-content:center}.no-info-group[_ngcontent-%COMP%], .userFeeGroup[_ngcontent-%COMP%]{display:flex;flex-direction:column}.no-info-group[_ngcontent-%COMP%]{width:100%;align-items:center;height:auto;margin:90px auto}.no-info-group[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin-top:30px}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0!important}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-right:2%!important}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{white-space:nowrap;border-left:none}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:80px}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:38px;border-left:none;border-right:none}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{width:150px;border-right:none}.custom-options[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-right:auto}h3[_ngcontent-%COMP%]{text-align:center;font-family:Raleway,sans-serif;font-weight:400}@media only screen and (max-width:600px){#search[_ngcontent-%COMP%]{width:100%;flex-wrap:wrap}.user-table[_ngcontent-%COMP%]{width:95%}.user-table-group[_ngcontent-%COMP%]{width:100%}.user-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-height:none;margin-bottom:20px;justify-content:center}.user-pagination[_ngcontent-%COMP%]{flex-wrap:wrap;margin:4% auto!important}.no-info-group[_ngcontent-%COMP%]{text-align:center}.userFeeGroup[_ngcontent-%COMP%]{margin-top:20px;margin-left:0}}@media only screen and (min-width:601px) and (max-width:960px){#search[_ngcontent-%COMP%]{margin:0 auto;width:100%}.user-options[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;margin-bottom:20px}.user-table-group[_ngcontent-%COMP%]{width:100%}.user-table[_ngcontent-%COMP%]{width:90%}.user-pagination[_ngcontent-%COMP%]{margin:4% auto}.userFeeGroup[_ngcontent-%COMP%]{margin-top:20px;margin-left:0}.custom-options[_ngcontent-%COMP%]{margin:0}}"]}),re),ce=((ae=function e(){_classCallCheck(this,e)}).\u0275mod=l.Kb({type:ae}),ae.\u0275inj=l.Jb({factory:function(e){return new(e||ae)},imports:[[i.a,r.j.forChild([{path:"",component:j},{path:"loans",component:ie},{path:"history",component:K}])]]}),ae)}}]);